<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=0" />
    <title>Settings</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://use.typekit.net/ikl4cbb.css"
        integrity="sha256-YMTXWpyoCVCn1xAOzL7zotWxPMmVYvdtVgwKCSfSYdA=" crossorigin="anonymous">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="no-referrer">
    <script src="/htmx.js"></script>
    <link rel="icon" href="/favicon.png">
</head>

<body id="settings-body">
    <nav>
        <button class="hamburger-menu" onclick="toggle_menu()">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </button>
        <ul class="sidenavbar">
            <li><a href="/">Dashboard</a></li>
            <li><a href="/teaminfo">Sponsors & Teaminfo</a></li>
            <li><a href="/overlay" target="_blank" rel="noopener noreferrer">Overlay</a></li>
            <li><a href="/settings" class="nav-active">Settings</a></li>
            <li><a href="/" id="open-logs">Open Logs</a></li>

        </ul>
    </nav>
    <div class="settings-container">
        <div class="settings-box">
            <div class="settings-title">
                <h2>Overlay background color</h2>
                <div class="subtext-settings">
                    <h6>The background color is determined by this color picker, additionally you can set the alpha
                        channel with the slider.</h6>
                </div>
            </div>
            <div class="setting">
                <input type="color" id="overlay-color" value="#00b140">
                <h3 class="alpha-range-title" id="color-value">#00b140</h3>
                <input type="range" id="overlay-alpha" min="0" max="100" value="100">
                <h3 class="alpha-range-title" id="alpha-value">100</h3>
                <button id="reset-color">Reset to Default</button>
            </div>
        </div>
        <div class="settings-box">
            <div class="settings-title">
                <h2>Theme</h2>
                <div class="subtext-settings">
                    <h6>Changing themes can be helpful in different scenarios, and for those who benefit from WCAG
                        AAA (not certified).
                    </h6>
                </div>
            </div>
            <div class="setting">
                <button id="light-theme" class="theme-button">Light Theme</button>
                <button id="dark-theme" class="theme-button theme-active">Dark Theme</button>
                <button id="colorblind-theme" class="theme-button">Colorblind Theme</button>
            </div>
        </div>
        <div class="settings-box">
            <div class="settings-title">
                <h2>Optical Character Regognition (OCR)</h2>
                <div class="subtext-settings">
                    <h6>Froggi has support for ScoreSight ocr, an open source program developed by locaal-ai, through
                        froggi-ocr. To set up OCR, download both ScoreSight (<a
                            href="https://github.com/locaal-ai/scoresight"
                            target="_blank">https://github.com/locaal-ai/scoresight</a>) and froggi-ocr (<a
                            href="https://github.com/AllLiver/froggi-ocr"
                            target="_blank">https://github.com/AllLiver/froggi-ocr</a>), then lauch both of them and set
                        them up.</h6>
                    <h6>Froggi should automatically use the default name and format of all of ScoreSight's default
                        fields that Froggi also supports. Although if you would like to add downs and to go for American
                        Football, you have to name them "Down" and "To Go" respectively, in Scoresight. Then make sure
                        froggi-ocr is getting StatusCode 200 OK from both ScoreSight and Froggi.</h6>
                    <h6>You also need to make sure to enable the ocr-api in Froggi or else Froggi will return StatusCode
                        409 CONFLICT to froggi-ocr.</h6>
                </div>
                <div class="setting" hx-put="/ocr/api/button" hx-trigger="load">
                    <button class="ocr-button" hx-post="/ocr/api/toggle">OCR API</button>
                </div>
                <h6>*Enabling the OCR API disables the manual game clock control</h6>
            </div>
        </div>
        <div class="settings-box">
            <div class="settings-title">
                <h2>API Key</h2>

                <div hx-put="/api/key/show" hx-trigger="load">
                </div>

                <button class="button-settings" hx-post="/api/key/reveal" hx-target="#api-key">Reveal
                    Key</button>
            </div>
        </div>
        <div class="settings-box">
            <div class="settings-title">
                <h2>Reset Scoreboard</h2>
                <div class="subtext-settings">
                </div>
            </div>
            <div class="setting">
                <button class="reset-button" hx-post="/reset" hx-swap="none">⚠️Reset⚠️</button>
            </div>
        </div>
        <div class="settings-box">
            <div class="settings-title">
                <h2>To-Go Distances</h2>
                <div class="subtext-settings">
                    <h6> </h6>
                </div>
            </div>
            <div class="setting">
                <button id="toggle-group" class="button-settings" onclick="toggleButtonGroup()">Jason Mode</button>
            </div>
        </div>
    </div>
    <div id="log-popup" class="popup" style="display: none;">
        <div class="popup-header">
            <h2>Logs</h2>
            <span class="popup-close">&times;</span>
        </div>
        <div id="popup-content" class="popup-content">
            <div id="log-content" hx-put="/logs" hx-trigger="every 1000ms"></div>
        </div>
    </div>
    <script src="/app.js"></script>
    <script>    function toggleButtonGroup() {
        // Retrieve the current state from localStorage
        let currentState = localStorage.getItem('toggleButtonGroup') === 'true';

        // Toggle the state
        let newState = !currentState;

        // Save the new state to localStorage
        localStorage.setItem('toggleButtonGroup', newState.toString());

        // Optionally, log the new state for debugging
        console.log('Jason Mode:', newState);
    }
    </script>
</body>

</html>